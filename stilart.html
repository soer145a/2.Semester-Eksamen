<!DOCTYPE html>
<html lang="da">

<head>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="style_stil.css">


	<title>Stilart</title>
</head>

<body>

	<section class="top">

		<div class="logo">
			<a href="forside.html">
			<img src="pics/logo.png">
			</a>
		</div>

		<h1 data-headline></h1>

		<header>
			<!--Burgermenu- ved mobil visning-->
			<button class="burger">
                <div class="bar1"></div>
                <div class="bar2"></div>
                <div class="bar3"></div>
            </button>

			<nav>
				<ul>
					<li><a href="forside.html">Forside</a></li>
					<li><a href="galleri.html">Galleri</a></li>
					<li><a href="stilart.html">Stilart</a></li>
					<li><a href="aktuelt.html">Aktuelt</a></li>
					<li><a href="cv.html">CV</a></li>
					<li><a href="kontakt.html">Kontakt</a></li>

				</ul>
			</nav>

		</header>


	</section>



	<!-- Øverste section indeholder den forklarende del af sitet-->
	<section class="stil_top">
		<h2 data-overskrift></h2>
		<div id="segmentContainer">
			<div id="segment1">
				<div id="tekst1">
					<p data-tekst1></p>
				</div>
				<div id="billede1">
					<iframe data-YT frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen id="YTV"></iframe>
				</div>
			</div>
			<div id="segment2">
				<div id="billede2">
					<img data-billede2 alt="">
				</div>
				<div id="tekst2">
					<p data-tekst2></p>
				</div>

			</div>
		</div>



	</section>

	<!--Nederste section indeholder billeder der forklare processen ved RAKU-->
	<section class="stil_bottom">
		<h2>Processen</h2>
		<p id="infoTxt">Klik på billederne for at vide mere!</p>
		<div id="style_gridContainer">
			<div id="grafikContainer">
				<div id="grafik1">
					<p data-infografik1></p>
				</div>
				<div id="grafik2">
					<p data-infografik2></p>
				</div>

				<div id="grafik3">
					<p data-infografik3></p>
				</div>

				<div id="grafik4">
					<p data-infografik4></p>
				</div>
			</div>
			<div id="infografikContainer">
				<div id="infografik">

					<div class="infografImg" id="lidtned">
						<img src="pics/1.png" alt="info img 1" id="info1">
					</div>

					<div class="infografImg">
						<img src="pics/2.png" alt="info img 2" id="info2">
					</div>
					<div class="infografImg">
						<img src="pics/3.png" alt="info img 3" id="info3">
					</div>
					<div class="infografImg">
						<img src="pics/4.png" alt="info img 4" id="info4">
					</div>

				</div>
				<div id="streg">
					<img src="pics/streg.png" alt="linie" id="line">
				</div>
				<div id="infoGrafikTxT">
					<p id="1">Trin 1</p>
					<p id="2">Trin 2</p>
					<p id="3">Trin 3</p>
					<p id="4">Trin 4</p>
				</div>


			</div>

		</div>





	</section>

	<footer>
		<div class="adresse">
			<p>
				Charlotte Nielsen<br> Reerslevvej 20A – Reerslev<br> 4291 Ruds Vedby<br> Mob. 6095 2369<br> Mail: <a href="mailto:cn.keramik@gmail.com">cn.keramik@gmail.com</a><br>
			</p>
		</div>


		<div class="some_img">
			<a href="https://www.facebook.com/cn.keramik.dk/">
                <img src="pics/fb.png">
            </a>

			<a href="https://www.instagram.com/charlottenielsenkeramik/">
                <img src="pics/insta.png">
            </a>
		</div>

		<!-- Tilmeldingsformular til Nyhedsbrev   -->

		<div class="nyhedsbrev">

			<!-- Knap til at åbne modal vindue/tilmeldings formular-->

			<button id="tilmeld">
                <p>Tilmeld dig mit nyhedsbrev!</p>
            </button>

			<!-- html for modal   -->
			<section id="modal">
				<!-- lukke knap  -->
				<button id="close">Luk</button>
				<!--modal sidens indhold i input tags indholdet bliver bestemt af type tagget -->
				<div id="modal-content">
					<form>
						<h1>Tilmeld dig mit nyhedsbrev!</h1>
						<br>
						<p> Bliv informeret om kommende udstillinger og nyheder, hurtigt og nemt. </p>
						<br>
						<input id="navn" type="text" placeholder="Dit navn" required>
						<input id="email" type="email" placeholder="Din email" required><br>
						<label>
                            <input type="checkbox" name="remember" required>Ja, jeg ønsker at tilmelde mig Charlotte Nielsen Keramik Nyhedsbrev </label><br>
						<p> Ved at klikke ja erklære du dig enig med vilkår og betingelser og den tilhørende persondatapolitik. <a href="https://www.datatilsynet.dk/generelt-om-databeskyttelse/lovgivning/"> læs mere her</a> </p>
						<input type="submit" value="send"> <span id="response"> </span> <br>

					</form>
				</div>
			</section>
		</div>

	</footer>


</body>

</html>
<script>
	let stilJSON;


	function onLoad() {

		// if (window.innerWidth <= 768) {

		function toggleMenu() {
			document.querySelector(".burger").classList.toggle("change");
			document.querySelector("nav").classList.toggle("show");
		}
		document.querySelector(".burger").addEventListener("click", toggleMenu);
		document.querySelector("ul").addEventListener("click", toggleMenu);

	}
	//}

	document.addEventListener("DOMContentLoaded", function(event) {
		onLoad();
		getJSON();
	});


	async function getJSON() {
		myJSON = await fetch("https://soren-remboll.com/kea/eksamen_semester_2/wordpress/wp-json/wp/v2/stilart");
		/* her sætter jeg mit array som wordpress henter, til at være en json fil */
		stilJSON = await myJSON.json();
		console.log(stilJSON);
		vispage();


	}

	function vispage() {
		console.log("vis tekst");
		stilJSON.forEach(tag => {

			document.querySelector("[data-headline]").textContent = tag.acf.healine;

			document.querySelector("[data-overskrift]").textContent = tag.acf.overskrift;

			document.querySelector("[data-tekst1]").textContent = tag.acf.tekst1;

			document.querySelector("[data-YT]").setAttribute("src", tag.acf.youtubevideo);

			document.querySelector("[data-billede2]").setAttribute("src", tag.acf.billede2);

			document.querySelector("[data-tekst2]").textContent = tag.acf.tekst2;

			document.querySelector("[data-infografik1]").textContent = tag.acf.infografik1;

			document.querySelector("[data-infografik2]").textContent = tag.acf.infografik2;

			document.querySelector("[data-infografik3]").textContent = tag.acf.infografik3;

			document.querySelector("[data-infografik4]").textContent = tag.acf.infografik4;



		});
		document.getElementById("info1").addEventListener("click", visinfo1);
		document.getElementById("info2").addEventListener("click", visinfo2);
		document.getElementById("info3").addEventListener("click", visinfo3);
		document.getElementById("info4").addEventListener("click", visinfo4);
	}

	function visinfo1() {
		console.log("vis info 1");
		document.querySelector("#grafik1").classList.toggle("show");
		document.querySelector("#grafik2").classList.remove("show");

		document.querySelector("#grafik3").classList.remove("show");
		document.querySelector("#grafik4").classList.remove("show");

	}
	function visinfo2() {
		console.log("vis info 2");
		document.querySelector("#grafik2").classList.toggle("show");
		document.querySelector("#grafik1").classList.remove("show");
		document.querySelector("#grafik3").classList.remove("show");
		document.querySelector("#grafik4").classList.remove("show");
	}
	function visinfo3() {
		console.log("vis info 3");
		document.querySelector("#grafik3").classList.toggle("show");
		document.querySelector("#grafik1").classList.remove("show");
		document.querySelector("#grafik2").classList.remove("show");
		document.querySelector("#grafik4").classList.remove("show");
	}
	function visinfo4() {
		console.log("vis info 4");
		document.querySelector("#grafik4").classList.toggle("show");
		document.querySelector("#grafik2").classList.remove("show");
		document.querySelector("#grafik1").classList.remove("show");
		document.querySelector("#grafik3").classList.remove("show");
	}

	let modal = document.querySelector("#modal");
    let tilmeld = document.querySelector("#tilmeld");
    let close = document.querySelector("#close");

    //kode til at svar teksten bliver vist
    let svartekst = "";
    document.querySelector("form").addEventListener("submit", ajaxCall);

    //kode
    async function ajaxCall(e) {
        e.preventDefault();
        let navn = this.querySelector("input[type=text]").value;
        console.log(navn);
        let url = "nyhedsbrev.php?navn=" + navn;
        let svar = await fetch(url);
        svartekst = await svar.text();
        show();
        this.querySelector("input[type=text]").value = "";
    }

    function show(response) {
        document.querySelector("#response").textContent = svartekst;
    }

    tilmeld.addEventListener("click", visModal);

    function visModal() {

        //ved klik på tilmeldingsboxen vises modal vindu med indhold.
        modal.classList.add("vis");

        //ved klik på close button fjernes modal vinduet med indholdet.
        close.addEventListener("click", skjulModal);

    }

    function skjulModal() {
        //css med modal vis bliver skjult igen
        modal.classList.remove("vis");
    }
</script>
